<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Platform engine</title>
    <h1>Labyrinth game</h1>
    <link rel="stylesheet" type="text/css" href="css/style.css"/>
    <script type="text/javascript" src="platform-engine.js"></script>
    <script type="text/javascript" src="Maps/map1.js"></script>
    <script type="text/javascript" src="Maps/map2.js"></script>
    <script type="text/javascript" src="Maps/map3.js"></script>
</head>
<body>
<canvas id="canvas"></canvas>

<p>Death count:</p>
<p id="death_counter"></p>

<p class="info">
    Use arrows to move. As a player you have to get to the end of the Labyrinth.
    Remember you have 3 lives to complete all maps! 2 maps are included.
</p>
    <script type="text/javascript">

        window.requestAnimFrame =
            window.requestAnimationFrame || window.webkitRequestAnimationFrame ||
            window.mozRequestAnimationFrame || window.oRequestAnimationFrame ||  window.msRequestAnimationFrame ||
            function(callback) {
                return window.setTimeout(callback, 1000 / 60);
            };

        var canvas = document.getElementById('canvas'), ctx = canvas.getContext('2d');

        canvas.width = 800;
        canvas.height = 800;

        /* Game setup */
        var maps = [map1, map2, map3];
        var game = new Labyrinth();
        game.set_viewport(canvas.width, canvas.height);
        game.load_map(maps[2]);

        /* Limit the viewport to the confines of the map */

        game.limit_viewport = true;
        var Loop = function () {
            ctx.fillStyle = '#333';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            game.update();
            game.draw(ctx);
            window.requestAnimFrame(Loop);
        }
        Loop();

    </script>
</body>
</html>



